# https://plugins.jenkins.io/configuration-as-code/
# Only putting some segments from `just jc export-configuration` here.
# Everything else can have default values.
# 
# Putting credentials using encrypted text is NOT portable.
# https://github.com/jenkinsci/configuration-as-code-plugin/issues/1141
# 
# We can still pass in credentials using other ways, such as secrets
# https://github.com/jenkinsci/configuration-as-code-plugin/blob/master/docs/features/secrets.adoc#docker-secrets
jenkins:
  authorizationStrategy:
    loggedInUsersCanDoAnything:
      allowAnonymousRead: false
  securityRealm:
    local:
      allowsSignup: false
      enableCaptcha: false
      users:
        - id: ${jenkins_username}
          name: "admin"
          password: ${jenkins_password}
unclassified:
  gitHubPluginConfig:
    hookUrl: "http://localhost:8080/github-webhook/"
tool:
  jdk:
    installations:
      - name: "java25"
        properties:
          - installSource:
              installers:
                - adoptOpenJdkInstaller:
                    id: "jdk-25.0.1+8"
credentials:
  system:
    domainCredentials:
      - credentials:
          - gitHubApp:
              appID: ${github_app_team_id}
              description: "GitHub App Team"
              id: "github-app-team"
              privateKey: ${github_app_team_key}
              repositoryAccessStrategy:
                specificRepositories: {}
          - usernamePassword:
              description: "GitHub PAT"
              id: "github-pat"
              password: ${github_pat_password}
              scope: GLOBAL
              username: ${github_pat_username}
              usernameSecret: true
        domain: {}
